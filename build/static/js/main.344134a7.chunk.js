(this["webpackJsonpphoto-gallery"]=this["webpackJsonpphoto-gallery"]||[]).push([[0],{52:function(e,t,a){e.exports=a(90)},57:function(e,t,a){},58:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(14),r=a.n(l),c=(a(57),a(58),a(15)),s=a(16),m=a(19),i=a(18),u=a(24),p=a(91),d=a(92),h=a(93),E=a(94),g=a(95),O=a(96),f=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).navToggle=function(){n.setState({isNavOpen:!n.state.isNavOpen})},n.state={isNavOpen:!1},n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(p.a,{color:"light",light:!0,expand:"sm"},o.a.createElement("div",{className:"container"},o.a.createElement(d.a,{onClick:this.navToggle}),o.a.createElement(h.a,{href:"/"},"Photo Gallery"),o.a.createElement(E.a,{navbar:!0,isOpen:this.state.isNavOpen},o.a.createElement(g.a,{className:"mr-auto",navbar:!0},o.a.createElement(O.a,null,o.a.createElement(u.b,{to:"/",className:"nav-link active"},"Home")),o.a.createElement(O.a,null,o.a.createElement(u.b,{to:"/Gallery",className:"nav-link "},"Gallery")))))))}}]),a}(n.Component),b=function(){return o.a.createElement("div",null,o.a.createElement(f,null))},v=function(){return o.a.createElement("div",{className:"col-12",style:{padding:"60px"}},o.a.createElement("span",{className:"fa fa-spinner fa-5x fa-fw fa-pulse "}))},y=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return document.title="Home",o.a.createElement("div",null,o.a.createElement(v,null))}}]),a}(n.Component),j=a(97),M=a(98),C=a(99),N=a(100),S=function(e){return o.a.createElement("div",null,o.a.createElement(j.a,null,o.a.createElement(M.a,{width:"60rem",src:e.photo.image}),o.a.createElement("br",null),o.a.createElement(C.a,null,"Description: ",o.a.createElement("h5",{className:"text-danger"},e.photo.description)),o.a.createElement(N.a,{color:"info",onClick:e.DishSelect},"Keep a Comment")),o.a.createElement("br",null))},I=a(104),D=a(105),L=a(48),T=a.n(L),P=function(e){return e.commentIsLoading?o.a.createElement(v,null):e.comments.map((function(e){return o.a.createElement("div",{key:e.imageId},o.a.createElement("h5",{className:"text-success"},e.author),o.a.createElement("p",null,e.comment),o.a.createElement("p",null,"Ratings:",e.rating),o.a.createElement("p",null,T()(e.date,"dddd, mmmm dS, yyyy, h:MM:ss TT")))}))},A=a(28),k=a(23),w=a(101),x=a(102),_=a(108),G=a(103),H=a(22),W=a(29),q=a.n(W),B=function(e){return{type:"ADD_COMMENT",payload:e}},F=function(){return function(e){e({type:" COMMENT_LOADING"}),q.a.get("https://photo-gallery-project-1a9da.firebaseio.com/comments.json").then((function(t){e({type:"LOAD_COMMENTS",payload:t.data})}))}},J=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){n.setState(Object(A.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){n.props.addComment(n.props.imageId,n.state.rating,n.state.author,n.state.comment),n.setState({author:"",rating:"",comment:""}),e.preventDefault()},n.modalToggle=function(){n.props.updateComments(),n.props.fetchComments()},n.state={author:"",rating:"",comment:""},n.handleInputChange=n.handleInputChange.bind(Object(k.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(k.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){var e=o.a.createElement("div",null,o.a.createElement(w.a,{onSubmit:this.handleSubmit},o.a.createElement(x.a,{type:"text",name:"author",value:this.state.author,placeholder:"Your Name",onChange:this.handleInputChange,required:!0}),o.a.createElement("br",null),o.a.createElement(x.a,{type:"select",name:"rating",value:this.state.rating,onChange:this.handleInputChange},o.a.createElement("option",null,"1"),o.a.createElement("option",null,"2"),o.a.createElement("option",null,"3"),o.a.createElement("option",null,"4"),o.a.createElement("option",null,"5")),o.a.createElement("br",null),o.a.createElement(x.a,{type:"textarea",name:"comment",value:this.state.comment,placeholder:"Your Comment",onChange:this.handleInputChange,required:!0}),o.a.createElement("br",null),o.a.createElement(N.a,{color:"info",type:"submit"},"Submit Comment")));return o.a.createElement("div",null,o.a.createElement("div",{className:"container"},this.props.isModalOpen?o.a.createElement(v,null):e),o.a.createElement("div",null,o.a.createElement(_.a,{isOpen:this.props.isModalOpen},o.a.createElement(G.a,null," ",this.props.modalMsg," "),o.a.createElement(N.a,{color:"info",onClick:this.modalToggle},"Close"))))}}]),a}(n.Component),U=Object(H.b)(null,(function(e){return{updateComments:function(){return e({type:"UPDATE_COMMENT"})},fetchComments:function(){return e(F())}}}))(J),Y=function(e){return document.title="PhotoDetails",o.a.createElement("div",null,o.a.createElement(I.a,{style:{marginTop:"5px"}},o.a.createElement(j.a,{style:{textAlign:"left"}},o.a.createElement(D.a,null,o.a.createElement("h2",{className:"text-primary"},e.photo.description)),o.a.createElement("hr",null),o.a.createElement(P,{comments:e.comments,commentIsLoading:e.commentIsLoading}),o.a.createElement("hr",null),o.a.createElement(U,{imageId:e.photo.imageId,addComment:e.addComment,isModalOpen:e.isModalOpen,modalMsg:e.modalMsg}))))},K=a(106),R=a(107),$=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={selectedPhoto:null,modalOpen:!1},e.onDishSelect=function(t){e.setState({selectedPhoto:t,modalOpen:!e.state.modalOpen})},e.modalToggle=function(){e.setState({modalOpen:!e.state.modalOpen,selectedPhoto:null})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchPhotos(),this.props.fetchComments()}},{key:"render",value:function(){var e=this;if(document.title="Gallery",this.props.photos.isLoading)return o.a.createElement(v,null);if(this.props.photos.errMess)return o.a.createElement(K.a,{color:"danger"},this.props.photos.errMess);var t=this.props.photos.photos.map((function(t){return o.a.createElement(S,{photo:t,key:t.imageId,DishSelect:function(){return e.onDishSelect(t)}})})),a=null;if(null!=this.state.selectedPhoto){var n=this.props.comments.comments.filter((function(t){return t.imageId===e.state.selectedPhoto.imageId}));a=o.a.createElement(Y,{photo:this.state.selectedPhoto,comments:n,isModalOpen:this.props.comments.isModalOpen,modalMsg:this.props.comments.modalMsg,addComment:this.props.addComment,commentsIsLoading:this.props.comments.isLoading})}return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement(I.a,{style:{margin:"5px",width:"60rem"}},t),o.a.createElement(_.a,{isOpen:this.state.modalOpen},o.a.createElement(G.a,null,a),o.a.createElement(R.a,null,o.a.createElement(N.a,{color:"info",onClick:this.modalToggle},"Close")))))}}]),a}(n.Component),z=Object(H.b)((function(e){return{photos:e.photos,comments:e.comments}}),(function(e){return{addComment:function(t,a,n,o){return e(function(e,t,a,n){return function(o){var l={imageId:e,author:a,rating:t,comment:n};l.date=(new Date).toISOString(),q.a.post("https://photo-gallery-project-1a9da.firebaseio.com/comments.json",l).then((function(e){o(B(e.status))}))}}(t,a,n,o))},fetchPhotos:function(){return e((function(e){e({type:"PHOTOS_LOADING"}),q.a.get("https://photo-gallery-project-1a9da.firebaseio.com/photos.json").then((function(t){e({type:"LOAD_PHOTOS",payload:t.data})})).catch((function(t){return e({type:"PHOTOS_FAILED",payload:t.message})}))}))},fetchComments:function(){return e(F())}}}))($),Q=a(6),V=function(){return o.a.createElement("div",null,o.a.createElement(Q.d,null,o.a.createElement(Q.b,{path:"/home",exact:!0,component:y}),o.a.createElement(Q.b,{path:"/Gallery",exact:!0,component:z}),o.a.createElement(Q.a,{from:"/",to:"/home"})))},X=function(){return o.a.createElement("div",{className:"footer"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-auto"},o.a.createElement("p",null," Photo-Gallery \xa9 Copyright 2020")))))},Z=function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement(V,null),o.a.createElement(X,null))},ee=a(21),te=a(9),ae=Object(ee.c)({photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,photos:[],errMess:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PHOTOS_LOADING":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!0,errMess:null,photos:[]});case"LOAD_PHOTOS":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!1,errMess:null,photos:t.payload});case"PHOTOS_FAILED":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!1,errMess:t.payload,photos:[]});default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,comments:[],isModalOpen:!1,modalMsg:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_COMMENTS":var a=[];for(var n in t.payload)a.push(Object(te.a)(Object(te.a)({},t.payload[n]),{},{id:n}));return Object(te.a)(Object(te.a)({},e),{},{isLoading:!1,comments:a,isModalOpen:!1,modalMsg:""});case" COMMENT_LOADING":return Object(te.a)(Object(te.a)({},e),{},{isLoading:!0,comments:[],isModalOpen:!1,modalMsg:""});case"ADD_COMMENT":return console.log(t.payload),200===t.payload?Object(te.a)(Object(te.a)({},e),{},{isLoading:!1,isModalOpen:!0,modalMsg:"Comment Submitted"}):Object(te.a)(Object(te.a)({},e),{},{isLoading:!1,isModalOpen:!0,modalMsg:"Something Went Wrong! Comment Again"});case"UPDATE_COMMENT":return Object(te.a)(Object(te.a)({},e),{},{isModalOpen:!1,modalMsg:""});default:return e}}}),ne=a(50),oe=a.n(ne),le=a(51),re=Object(ee.d)(ae,Object(ee.a)(oe.a,le.a)),ce=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(H.a,{store:re},o.a.createElement(u.a,null,o.a.createElement(Z,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(88),a(89);r.a.render(o.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.344134a7.chunk.js.map